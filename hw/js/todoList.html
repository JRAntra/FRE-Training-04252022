<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Vanilla JavaScript Todo List</title>
    <style type = text/css>
        section.headerSection,
        section.listField {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        section.headerSection {
            background-color: pink;
            flex-direction: column;
        }
        section.listField {
            flex-direction: column-reverse;
        }
    </style>

</head>
<body>

    <main></main>

    <script>
        const todoList = {};

        const main = document.querySelector("main");

        const headerSection = document.createElement("section");
        headerSection.className = "headerSection";
        headerSection.id = "headerSection";
        main.appendChild(headerSection);

        const title = document.createElement("h1");
        title.innerText = 'My To Do List';
        headerSection.appendChild(title);

        // INPUT GROUP
        const inputDiv = document.createElement("div");
        headerSection.appendChild(inputDiv);
        inputDiv.className = "inputDiv";

        const itemInput = document.createElement("input");
        itemInput.placeholder = "Title...";
        inputDiv.appendChild(itemInput);

        const addButton = document.createElement("button");
        addButton.innerText = "Add";
        inputDiv.appendChild(addButton);

        // LIST ITEMS GROUP
        const listField = document.createElement("section");
        listField.className = "listField"
        main.appendChild(listField);

        function addElement(parentNode, childTag, text) {
            if (!text.length) return;
            const childNode = document.createElement(childTag);

            if (childTag === "input") childNode.value = text;
            else childNode.innerText = text;
            parentNode.appendChild(childNode);
            return childNode;
        }

        function addItem(e) {
            const timeStamp = Date.now();

            const item = addElement(listField, "input", itemInput.value);
            item.className =  "list-item";
            item.id = `item-${timeStamp}`;

            todoList[item.id] = itemInput.value;

            const x = addElement(item, "button", "X");
            x.className = "delete-btn";
            x.id = `delete-${timeStamp}`;

            itemInput.value = null;
            console.log(todoList);
            return;
        }

        addButton.addEventListener("click", addItem);
    </script>
</body>
</html>
